{"ast":null,"code":"var _jsxFileName = \"/home/fpt007/Desktop/Sharly GitHub/Sharly/Sharly/sharly-q1/src/DocumentUploader.tsx\",\n  _s = $RefreshSig$();\n/** @format */\n\nimport React, { useState } from \"react\";\nimport { ref, uploadBytesResumable, getDownloadURL } from \"firebase/storage\";\nimport { collection, addDoc } from \"firebase/firestore\";\nimport { storage, firestore } from \"./firebaseConfig\";\nimport { AiOutlineCloudUpload, AiOutlineCheckCircle } from \"react-icons/ai\";\nimport { BiErrorCircle } from \"react-icons/bi\";\nimport { ImSpinner2 } from \"react-icons/im\";\nimport { MdCancel } from \"react-icons/md\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst DocumentUploader = () => {\n  _s();\n  const [file, setFile] = useState(null);\n  const [error, setError] = useState(\"\");\n  const [progress, setProgress] = useState(0);\n  const [success, setSuccess] = useState(false);\n  const [isUploading, setIsUploading] = useState(false);\n  const [uploadTask, setUploadTask] = useState(null); // For cancellation\n\n  // File validation\n  const validateFile = file => {\n    const validTypes = [\"application/pdf\", \"text/plain\"];\n    const maxSize = 5 * 1024 * 1024; // 5 MB\n    if (!validTypes.includes(file.type)) return \"Only PDF or text files are allowed\";\n    if (file.size > maxSize) return \"File size should not exceed 5MB\";\n    return \"\";\n  };\n\n  // Handle file selection\n  const handleFileChange = e => {\n    const selectedFile = e.target.files ? e.target.files[0] : null;\n    if (selectedFile) {\n      const validationError = validateFile(selectedFile);\n      if (validationError) {\n        setError(validationError);\n        setFile(null);\n      } else {\n        setError(\"\");\n        setFile(selectedFile);\n        setSuccess(false); // Reset success when a new file is selected\n      }\n    }\n  };\n\n  // Handle file upload\n  const handleUpload = async () => {\n    if (!file) return;\n    setIsUploading(true); // Show spinner\n    const storageRef = ref(storage, `documents/${file.name}`);\n    const task = uploadBytesResumable(storageRef, file);\n    setUploadTask(task); // Save task for cancellation\n\n    task.on(\"state_changed\", snapshot => {\n      const progress = snapshot.bytesTransferred / snapshot.totalBytes * 100;\n      setProgress(progress);\n    }, error => {\n      setError(\"Upload failed\");\n      setIsUploading(false); // Stop spinner\n      setUploadTask(null); // Reset task on failure\n    }, async () => {\n      const downloadURL = await getDownloadURL(task.snapshot.ref);\n      await addDoc(collection(firestore, \"documents\"), {\n        url: downloadURL\n      });\n      setSuccess(true); // Show success message\n      setFile(null); // Clear file\n      setIsUploading(false); // Stop spinner\n      setUploadTask(null); // Reset task\n      setProgress(0); // Reset progress bar\n    });\n  };\n\n  // Handle cancel upload\n  const handleCancelUpload = () => {\n    if (uploadTask) {\n      uploadTask.cancel();\n      setIsUploading(false); // Stop spinner\n      setProgress(0); // Reset progress\n      setError(\"Upload cancelled\");\n      setUploadTask(null); // Reset task\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"flex flex-col items-center bg-gray-100 p-6 shadow-xl rounded-lg w-full max-w-4xl mx-auto mt-10\",\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      className: \"text-2xl font-bold mb-4 text-gray-800\",\n      children: \"Upload a Document\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 99,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"mb-4 w-full\",\n      children: /*#__PURE__*/_jsxDEV(\"label\", {\n        className: \"w-full cursor-pointer\",\n        children: [/*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"file\",\n          onChange: handleFileChange,\n          accept: \".pdf, .txt\",\n          className: \"hidden\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 106,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex flex-col items-center justify-center bg-gray border-2 border-dashed border-gray-300 rounded-lg p-6 hover:border-blue-500 transition-all duration-300\",\n          children: [/*#__PURE__*/_jsxDEV(AiOutlineCloudUpload, {\n            className: \"text-5xl text-blue-500 mb-2\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 113,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"text-gray-600\",\n            children: \"Drag and drop, or click to select a file\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 114,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 112,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 105,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 104,\n      columnNumber: 7\n    }, this), error && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex items-center text-red-500 mb-4\",\n      children: [/*#__PURE__*/_jsxDEV(BiErrorCircle, {\n        className: \"mr-2\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 124,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: error\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 125,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 123,\n      columnNumber: 9\n    }, this), file && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"text-gray-700 mb-4 flex items-center justify-between w-full\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"font-semibold\",\n          children: \"Selected file:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 133,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: file.name\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 134,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 132,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"text-red-500 hover:text-red-700\",\n        onClick: () => setFile(null),\n        children: /*#__PURE__*/_jsxDEV(MdCancel, {\n          className: \"text-2xl\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 140,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 136,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 131,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex space-x-4\",\n      children: [/*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: handleUpload,\n        disabled: isUploading || !file // Disable if uploading or no file is selected\n        ,\n        className: `px-6 py-2 text-white font-semibold rounded-lg shadow-md \n  ${file && !isUploading ? \"bg-blue-500 hover:bg-blue-600\" : \"bg-gray-400 cursor-not-allowed\"}`,\n        children: isUploading ? /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex items-center justify-center space-x-2\",\n          children: [/*#__PURE__*/_jsxDEV(ImSpinner2, {\n            className: \"animate-spin text-xl\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 159,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            children: \"Uploading...\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 160,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 158,\n          columnNumber: 13\n        }, this) : \"Upload\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 147,\n        columnNumber: 9\n      }, this), isUploading && /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: handleCancelUpload,\n        className: \"px-4 py-2 text-red-500 hover:text-red-700 font-semibold rounded-lg\",\n        children: \"Cancel Upload\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 169,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 146,\n      columnNumber: 7\n    }, this), progress > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"w-full mt-4\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"bg-gray-300 h-2 rounded-full overflow-hidden\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"bg-blue-500 h-full transition-all duration-300\",\n          style: {\n            width: `${progress}%`\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 182,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 181,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"text-gray-600 mt-2\",\n        children: [Math.round(progress), \"% uploaded\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 187,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 180,\n      columnNumber: 9\n    }, this), success && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex items-center text-green-500 mt-4\",\n      children: [/*#__PURE__*/_jsxDEV(AiOutlineCheckCircle, {\n        className: \"mr-2\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 194,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: \"File uploaded successfully!\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 195,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 193,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 98,\n    columnNumber: 5\n  }, this);\n};\n_s(DocumentUploader, \"1G5e6jg8gaCfaP9viOUhqXn320k=\");\n_c = DocumentUploader;\nexport default DocumentUploader;\nvar _c;\n$RefreshReg$(_c, \"DocumentUploader\");","map":{"version":3,"names":["React","useState","ref","uploadBytesResumable","getDownloadURL","collection","addDoc","storage","firestore","AiOutlineCloudUpload","AiOutlineCheckCircle","BiErrorCircle","ImSpinner2","MdCancel","jsxDEV","_jsxDEV","DocumentUploader","_s","file","setFile","error","setError","progress","setProgress","success","setSuccess","isUploading","setIsUploading","uploadTask","setUploadTask","validateFile","validTypes","maxSize","includes","type","size","handleFileChange","e","selectedFile","target","files","validationError","handleUpload","storageRef","name","task","on","snapshot","bytesTransferred","totalBytes","downloadURL","url","handleCancelUpload","cancel","className","children","fileName","_jsxFileName","lineNumber","columnNumber","onChange","accept","onClick","disabled","style","width","Math","round","_c","$RefreshReg$"],"sources":["/home/fpt007/Desktop/Sharly GitHub/Sharly/Sharly/sharly-q1/src/DocumentUploader.tsx"],"sourcesContent":["/** @format */\n\nimport React, { useState, ChangeEvent } from \"react\";\nimport { ref, uploadBytesResumable, getDownloadURL } from \"firebase/storage\";\nimport { collection, addDoc } from \"firebase/firestore\";\nimport { storage, firestore } from \"./firebaseConfig\";\nimport { AiOutlineCloudUpload, AiOutlineCheckCircle } from \"react-icons/ai\";\nimport { BiErrorCircle } from \"react-icons/bi\";\nimport { ImSpinner2 } from \"react-icons/im\";\nimport { MdCancel } from \"react-icons/md\";\n\ninterface FileWithValidation extends File {\n  validationError?: string;\n}\n\nconst DocumentUploader: React.FC = () => {\n  const [file, setFile] = useState<FileWithValidation | null>(null);\n  const [error, setError] = useState<string>(\"\");\n  const [progress, setProgress] = useState<number>(0);\n  const [success, setSuccess] = useState<boolean>(false);\n  const [isUploading, setIsUploading] = useState<boolean>(false);\n  const [uploadTask, setUploadTask] = useState<ReturnType<\n    typeof uploadBytesResumable\n  > | null>(null); // For cancellation\n\n  // File validation\n  const validateFile = (file: File): string => {\n    const validTypes = [\"application/pdf\", \"text/plain\"];\n    const maxSize = 5 * 1024 * 1024; // 5 MB\n    if (!validTypes.includes(file.type))\n      return \"Only PDF or text files are allowed\";\n    if (file.size > maxSize) return \"File size should not exceed 5MB\";\n    return \"\";\n  };\n\n  // Handle file selection\n  const handleFileChange = (e: ChangeEvent<HTMLInputElement>): void => {\n    const selectedFile = e.target.files ? e.target.files[0] : null;\n    if (selectedFile) {\n      const validationError = validateFile(selectedFile);\n      if (validationError) {\n        setError(validationError);\n        setFile(null);\n      } else {\n        setError(\"\");\n        setFile(selectedFile);\n        setSuccess(false); // Reset success when a new file is selected\n      }\n    }\n  };\n\n  // Handle file upload\n  const handleUpload = async (): Promise<void> => {\n    if (!file) return;\n\n    setIsUploading(true); // Show spinner\n    const storageRef = ref(storage, `documents/${file.name}`);\n    const task = uploadBytesResumable(storageRef, file);\n\n    setUploadTask(task); // Save task for cancellation\n\n    task.on(\n      \"state_changed\",\n      (snapshot) => {\n        const progress =\n          (snapshot.bytesTransferred / snapshot.totalBytes) * 100;\n        setProgress(progress);\n      },\n      (error) => {\n        setError(\"Upload failed\");\n        setIsUploading(false); // Stop spinner\n        setUploadTask(null); // Reset task on failure\n      },\n      async () => {\n        const downloadURL = await getDownloadURL(task.snapshot.ref);\n        await addDoc(collection(firestore, \"documents\"), { url: downloadURL });\n        setSuccess(true); // Show success message\n        setFile(null); // Clear file\n        setIsUploading(false); // Stop spinner\n        setUploadTask(null); // Reset task\n        setProgress(0); // Reset progress bar\n      }\n    );\n  };\n\n  // Handle cancel upload\n  const handleCancelUpload = () => {\n    if (uploadTask) {\n      uploadTask.cancel();\n      setIsUploading(false); // Stop spinner\n      setProgress(0); // Reset progress\n      setError(\"Upload cancelled\");\n      setUploadTask(null); // Reset task\n    }\n  };\n\n  return (\n    <div className=\"flex flex-col items-center bg-gray-100 p-6 shadow-xl rounded-lg w-full max-w-4xl mx-auto mt-10\">\n      <h2 className=\"text-2xl font-bold mb-4 text-gray-800\">\n        Upload a Document\n      </h2>\n\n      {/* File Input */}\n      <div className=\"mb-4 w-full\">\n        <label className=\"w-full cursor-pointer\">\n          <input\n            type=\"file\"\n            onChange={handleFileChange}\n            accept=\".pdf, .txt\"\n            className=\"hidden\"\n          />\n          <div className=\"flex flex-col items-center justify-center bg-gray border-2 border-dashed border-gray-300 rounded-lg p-6 hover:border-blue-500 transition-all duration-300\">\n            <AiOutlineCloudUpload className=\"text-5xl text-blue-500 mb-2\" />\n            <p className=\"text-gray-600\">\n              Drag and drop, or click to select a file\n            </p>\n          </div>\n        </label>\n      </div>\n\n      {/* Error Message */}\n      {error && (\n        <div className=\"flex items-center text-red-500 mb-4\">\n          <BiErrorCircle className=\"mr-2\" />\n          <p>{error}</p>\n        </div>\n      )}\n\n      {/* File Preview */}\n      {file && (\n        <div className=\"text-gray-700 mb-4 flex items-center justify-between w-full\">\n          <div>\n            <p className=\"font-semibold\">Selected file:</p>\n            <p>{file.name}</p>\n          </div>\n          <button\n            className=\"text-red-500 hover:text-red-700\"\n            onClick={() => setFile(null)}\n          >\n            <MdCancel className=\"text-2xl\" />\n          </button>\n        </div>\n      )}\n\n      {/* Upload Button */}\n      <div className=\"flex space-x-4\">\n        <button\n          onClick={handleUpload}\n          disabled={isUploading || !file} // Disable if uploading or no file is selected\n          className={`px-6 py-2 text-white font-semibold rounded-lg shadow-md \n  ${\n    file && !isUploading\n      ? \"bg-blue-500 hover:bg-blue-600\"\n      : \"bg-gray-400 cursor-not-allowed\"\n  }`}\n        >\n          {isUploading ? (\n            <div className=\"flex items-center justify-center space-x-2\">\n              <ImSpinner2 className=\"animate-spin text-xl\" />\n              <span>Uploading...</span>\n            </div>\n          ) : (\n            \"Upload\"\n          )}\n        </button>\n\n        {/* Cancel Upload Button */}\n        {isUploading && (\n          <button\n            onClick={handleCancelUpload}\n            className=\"px-4 py-2 text-red-500 hover:text-red-700 font-semibold rounded-lg\"\n          >\n            Cancel Upload\n          </button>\n        )}\n      </div>\n\n      {/* Progress Bar */}\n      {progress > 0 && (\n        <div className=\"w-full mt-4\">\n          <div className=\"bg-gray-300 h-2 rounded-full overflow-hidden\">\n            <div\n              className=\"bg-blue-500 h-full transition-all duration-300\"\n              style={{ width: `${progress}%` }}\n            ></div>\n          </div>\n          <p className=\"text-gray-600 mt-2\">{Math.round(progress)}% uploaded</p>\n        </div>\n      )}\n\n      {/* Success Message */}\n      {success && (\n        <div className=\"flex items-center text-green-500 mt-4\">\n          <AiOutlineCheckCircle className=\"mr-2\" />\n          <p>File uploaded successfully!</p>\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport default DocumentUploader;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}